{"version":3,"file":"items.umd.min.js","sources":["../../src/helpers.ts","../../src/create.ts","../../src/add.ts","../../src/get.ts","../../src/protect.ts","../../src/remove.ts","../../src/search.ts","../../src/update.ts"],"sourcesContent":["/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { IRequestOptions } from \"@esri/arcgis-rest-request\";\n\nimport { IItemAdd, IItemUpdate, IItem } from \"@esri/arcgis-rest-common-types\";\n\nimport { IUserRequestOptions } from \"@esri/arcgis-rest-auth\";\n\nexport interface IItemRequestOptions extends IUserRequestOptions {\n  item: IItem;\n}\n\nexport interface IItemIdRequestOptions extends IUserRequestOptions {\n  /**\n   * Unique identifier of the item.\n   */\n  id: string;\n  /**\n   * Item owner username. If not present, `authentication.username` is utilized.\n   */\n  owner?: string;\n}\n\nexport interface IItemResourceRequestOptions extends IItemIdRequestOptions {\n  /**\n   * New resource filename.\n   */\n  name?: string;\n  /**\n   * Text input to be added as a file resource.\n   */\n  content?: string;\n  /**\n   * Controls whether access to the file resource is restricted to the owner or inherited from the sharing permissions set for the associated item.\n   */\n  private?: boolean;\n  resource?: any;\n}\n\nexport interface IItemCrudRequestOptions extends IUserRequestOptions {\n  /**\n   * The owner of the item. If this property is not present, `item.owner` will be passed, or lastly `authentication.username`.\n   */\n  owner?: string;\n  /**\n   * Id of the folder to house the item.\n   */\n  folder?: string;\n}\n\nexport interface IItemDataRequestOptions extends IRequestOptions {\n  /**\n   * Used to request binary data.\n   */\n  file?: boolean;\n}\n\nexport interface IItemUpdateResponse {\n  success: boolean;\n  id: string;\n}\n\nexport interface IItemAddResponse extends IItemUpdateResponse {\n  folder: string;\n}\n\nexport interface IItemResourceResponse {\n  success: boolean;\n  itemId: string;\n  owner: string;\n  folder: string;\n}\n\nexport interface IAddFolderResponse {\n  /**\n   * Success or failure of request.\n   */\n  success: boolean;\n  /**\n   * Information about created folder: its alphanumeric id, name, and owner's name.\n   */\n  folder: {\n    id: string;\n    title: string;\n    username: string;\n  };\n}\n\nexport interface IItemMoveResponse {\n  /**\n   * Success or failure of request.\n   */\n  success: boolean;\n  /**\n   * Alphanumeric id of moved item.\n   */\n  itemId: string;\n  /**\n   * Name of owner of item.\n   */\n  owner: string;\n  /**\n   * Alphanumeric id of folder now housing item.\n   */\n  folder: string;\n}\n\n/**\n * Serialize an item into a json format accepted by the Portal API\n * for create and update operations\n *\n * @param item Item to be serialized\n * @returns a formatted json object to be sent to Portal\n */\nexport function serializeItem(item: IItemAdd | IItemUpdate | IItem): any {\n  // create a clone so we're not messing with the original\n  const clone = JSON.parse(JSON.stringify(item));\n  // join keywords and tags...\n  const { typeKeywords = [], tags = [] } = item;\n  clone.typeKeywords = typeKeywords.join(\", \");\n  clone.tags = tags.join(\", \");\n  // convert .data to .text\n  if (clone.data) {\n    clone.text = JSON.stringify(clone.data);\n    delete clone.data;\n  }\n  // Convert properties to a string\n  if (clone.properties) {\n    clone.properties = JSON.stringify(clone.properties);\n  }\n  return clone;\n}\n\n/**\n * requestOptions.owner is given priority, requestOptions.item.owner will be checked next. If neither are present, authentication.username will be assumed.\n */\nexport function determineOwner(requestOptions: any): string {\n  if (requestOptions.owner) {\n    return requestOptions.owner;\n  }\n  if (requestOptions.item && requestOptions.item.owner) {\n    return requestOptions.item.owner;\n  } else {\n    return requestOptions.authentication.username;\n  }\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport { IItemAdd } from \"@esri/arcgis-rest-common-types\";\n\nimport {\n  IAddFolderResponse,\n  IItemAddResponse,\n  IItemCrudRequestOptions,\n  serializeItem,\n  determineOwner\n} from \"./helpers\";\n\nexport interface IAddFolderRequestOptions extends IItemCrudRequestOptions {\n  /**\n   * Name of the folder to create.\n   */\n  title: string;\n}\n\nexport interface IItemAddRequestOptions extends IItemCrudRequestOptions {\n  item: IItemAdd;\n}\n\n/**\n * Create a folder\n *\n * ```js\n * import { createFolder } from '@esri/arcgis-rest-items';\n *\n * createFolder({\n *   title: 'Map Collection',\n *   authentication: userSession\n * }) ```\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that resolves with folder details once the folder has been created\n */\nexport function createFolder(\n  requestOptions: IAddFolderRequestOptions\n): Promise<IAddFolderResponse> {\n  const owner = determineOwner(requestOptions);\n\n  const baseUrl = `${getPortalUrl(requestOptions)}/content/users/${owner}`;\n  const url = `${baseUrl}/createFolder`;\n\n  requestOptions.params = {\n    title: requestOptions.title,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * Create an item in a folder\n *\n * @param requestOptions = Options for the request\n */\nexport function createItemInFolder(\n  requestOptions: IItemAddRequestOptions\n): Promise<IItemAddResponse> {\n  const owner = determineOwner(requestOptions);\n\n  const baseUrl = `${getPortalUrl(requestOptions)}/content/users/${owner}`;\n  let url = `${baseUrl}/addItem`;\n\n  if (requestOptions.folder) {\n    url = `${baseUrl}/${requestOptions.folder}/addItem`;\n  }\n\n  // serialize the item into something Portal will accept\n  requestOptions.params = {\n    ...requestOptions.params,\n    ...serializeItem(requestOptions.item)\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * Create an Item in the user's root folder\n *\n * ```js\n * import { createItem } from '@esri/arcgis-rest-items';\n *\n * createItem({\n *   authentication: userSession,\n *   item: {\n *     title: \"The Amazing Voyage\",\n *     type: \"Web Map\"\n *   }\n * })\n * ```\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that creates an item.\n */\nexport function createItem(\n  requestOptions: IItemAddRequestOptions\n): Promise<IItemAddResponse> {\n  // delegate to createItemInFolder placing in the root of the filestore\n  const options = {\n    folder: null,\n    ...requestOptions\n  } as IItemAddRequestOptions;\n  return createItemInFolder(options);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport {\n  IItemIdRequestOptions,\n  IItemResourceRequestOptions,\n  IItemAddResponse,\n  IItemResourceResponse,\n  determineOwner\n} from \"./helpers\";\n\nexport interface IItemDataAddRequestOptions extends IItemIdRequestOptions {\n  /**\n   * Object to store\n   */\n  data: any;\n}\n\nexport interface IItemResourceAddRequestOptions\n  extends IItemResourceRequestOptions {\n  /**\n   * Object to store\n   */\n  resource: any;\n}\n\n/**\n * Send json to an item to be stored as the `/data` resource\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with an object reporting\n *        success/failure and echoing the item id.\n */\nexport function addItemJsonData(\n  requestOptions: IItemDataAddRequestOptions\n): Promise<IItemAddResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/update`;\n\n  // Portal API requires that the 'data' be stringified and POSTed in\n  // a `text` form field. It can also be sent with the `.create` call by sending\n  // a `.data` property.\n  requestOptions.params = {\n    text: JSON.stringify(requestOptions.data),\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * Send a file or blob to an item to be stored as the `/data` resource\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with an object reporting\n *        success/failure and echoing the item id.\n */\nexport function addItemData(\n  requestOptions: IItemDataAddRequestOptions\n): Promise<IItemAddResponse> {\n  const owner = determineOwner(requestOptions);\n\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/update`;\n\n  // Portal API requires that the 'data' be POSTed in a `file` form field.\n  requestOptions.params = {\n    file: requestOptions.data,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * Add a resource associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to add item resources.\n */\nexport function addItemResource(\n  requestOptions: IItemResourceAddRequestOptions\n): Promise<IItemResourceResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/addResources`;\n\n  requestOptions.params = {\n    file: requestOptions.resource,\n    fileName: requestOptions.name,\n    text: requestOptions.content,\n    access: requestOptions.private ? \"private\" : \"inherit\",\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  IRequestOptions,\n  getPortalUrl\n} from \"@esri/arcgis-rest-request\";\n\nimport { IItem } from \"@esri/arcgis-rest-common-types\";\n\nimport { IItemIdRequestOptions, IItemDataRequestOptions } from \"./helpers\";\n\n/**\n * Get an item by id\n *\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function getItem(\n  id: string,\n  requestOptions?: IRequestOptions\n): Promise<IItem> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${id}`;\n\n  // default to a GET request\n  const options: IRequestOptions = {\n    ...{ httpMethod: \"GET\" },\n    ...requestOptions\n  };\n  return request(url, options);\n}\n\n/**\n * Get the /data for an item.\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the json data for the item.\n */\nexport function getItemData(\n  id: string,\n  requestOptions?: IItemDataRequestOptions\n): Promise<any> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${id}/data`;\n  // default to a GET request\n  const options: IItemDataRequestOptions = {\n    ...{ httpMethod: \"GET\", params: {} },\n    ...requestOptions\n  };\n\n  if (options.file) {\n    options.params.f = null;\n  }\n\n  return request(url, options);\n}\n\n/**\n * Get the resources associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to get some item resources.\n */\nexport function getItemResources(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const url = `${getPortalUrl(requestOptions)}/content/items/${\n    requestOptions.id\n  }/resources`;\n\n  // mix in user supplied params\n  requestOptions.params = {\n    ...requestOptions.params,\n    num: 1000\n  };\n\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport { IItemIdRequestOptions, determineOwner } from \"./helpers\";\n\n/**\n * Protect an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to protect an item.\n */\nexport function protectItem(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/protect`;\n  return request(url, requestOptions);\n}\n\n/**\n * Unprotect an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to unprotect an item.\n */\nexport function unprotectItem(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/unprotect`;\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport {\n  IItemIdRequestOptions,\n  IItemResourceRequestOptions,\n  determineOwner\n} from \"./helpers\";\n\n/**\n * Remove an item from the portal\n *\n * *\n * ```js\n * import { removeItem } from '@esri/arcgis-rest-items';\n *\n * removeItem({\n *   authentication: userSession,\n *   id: \"3ef\"\n * })\n * ```\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that deletes an item.\n */\nexport function removeItem(\n  requestOptions: IItemIdRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/delete`;\n  return request(url, requestOptions);\n}\n\n/**\n * Remove a resource associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that deletes an item resource.\n */\nexport function removeItemResource(\n  requestOptions: IItemResourceRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/removeResources`;\n\n  // mix in user supplied params\n  requestOptions.params = {\n    ...requestOptions.params,\n    resource: requestOptions.resource\n  };\n  return request(url, requestOptions);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  IRequestOptions,\n  getPortalUrl\n} from \"@esri/arcgis-rest-request\";\n\nimport { IPagingParams, IItem } from \"@esri/arcgis-rest-common-types\";\n\n// this interface still needs to be docced\nexport interface ISearchRequest extends IPagingParams {\n  q: string;\n  [key: string]: any;\n}\n\nexport interface ISearchRequestOptions extends IRequestOptions {\n  searchForm?: ISearchRequest;\n}\n\n/**\n * Options to pass through when searching for items.\n */\nexport interface ISearchResult {\n  query: string; // matches the api's form param\n  total: number;\n  start: number;\n  num: number;\n  nextStart: number;\n  results: IItem[];\n}\n\n/**\n * Search for items via the portal api\n *\n * ```js\n * import { searchItems } from '@esri/arcgis-rest-items';\n *\n * searchItems('water')\n * .then((results) => {\n *  console.log(results.total); // 355\n * })\n * ```\n *\n * @param search - A string or RequestOptions object to pass through to the endpoint.\n * @returns A Promise that will resolve with the data from the response.\n */\nexport function searchItems(\n  search: string | ISearchRequestOptions\n): Promise<ISearchResult> {\n  let options: ISearchRequestOptions = {\n    httpMethod: \"GET\",\n    params: {}\n  };\n\n  if (typeof search === \"string\") {\n    options.params.q = search;\n  } else {\n    // mixin user supplied requestOptions with defaults\n    options = {\n      ...options,\n      ...search\n    };\n\n    // mixin arbitrary request parameters with search form\n    options.params = {\n      ...search.params,\n      ...search.searchForm\n    };\n  }\n\n  // construct the search url\n  const url = `${getPortalUrl(options)}/search`;\n\n  // send the request\n  return request(url, options);\n}\n","/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, getPortalUrl } from \"@esri/arcgis-rest-request\";\n\nimport { IItemUpdate } from \"@esri/arcgis-rest-common-types\";\n\nimport {\n  IItemCrudRequestOptions,\n  IItemMoveResponse,\n  IItemResourceRequestOptions,\n  IItemUpdateResponse,\n  serializeItem,\n  determineOwner\n} from \"./helpers\";\n\nexport interface IItemUpdateRequestOptions extends IItemCrudRequestOptions {\n  item: IItemUpdate;\n}\n\nexport interface IItemMoveRequestOptions extends IItemCrudRequestOptions {\n  /**\n   * Alphanumeric id of item to be moved.\n   */\n  itemId: string;\n  /**\n   * Alphanumeric id of folder to house moved item. If null, empty, or \"/\", the destination is the\n   * root folder.\n   */\n  folderId?: string;\n}\n\n/**\n * Update an Item\n *\n * * ```js\n * import { updateItem } from '@esri/arcgis-rest-items';\n *\n * updateItem({\n *   authentication: userSession,\n *   item: {\n *     id: \"3ef\",\n *     description: \"A three hour tour\"\n *   }\n * })\n * ```\n *\n * @param item - The item to update.\n * @param requestOptions - Options for the request.\n * @returns A Promise that updates an item.\n */\nexport function updateItem(\n  requestOptions: IItemUpdateRequestOptions\n): Promise<IItemUpdateResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.item.id\n  }/update`;\n\n  // serialize the item into something Portal will accept\n  requestOptions.params = {\n    ...requestOptions.params,\n    ...serializeItem(requestOptions.item)\n  };\n\n  return request(url, requestOptions);\n}\n\n/**\n * Update a resource associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that updates an item resource.\n */\nexport function updateItemResource(\n  requestOptions: IItemResourceRequestOptions\n): Promise<any> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.id\n  }/updateResources`;\n\n  // mix in user supplied params\n  requestOptions.params = {\n    file: requestOptions.resource,\n    fileName: requestOptions.name,\n    text: requestOptions.content,\n    ...requestOptions.params\n  };\n\n  // only override whatever access was specified previously if 'private' was passed explicitly\n  if (typeof requestOptions.private !== \"undefined\") {\n    requestOptions.params.access = requestOptions.private\n      ? \"private\"\n      : \"inherit\";\n  }\n\n  return request(url, requestOptions);\n}\n\n/**\n * Move an item to a folder\n *\n * ```js\n * import { moveItem } from '@esri/arcgis-rest-items';\n *\n * moveItem({\n *   itemId: \"3ef\",\n *   folderId: \"7c5\",\n *   authentication: userSession\n * }) ```\n *\n * @param requestOptions - Options for the request\n * @returns A Promise that resolves with owner and folder details once the move has been completed\n */\nexport function moveItem(\n  requestOptions: IItemMoveRequestOptions\n): Promise<IItemMoveResponse> {\n  const owner = determineOwner(requestOptions);\n  const url = `${getPortalUrl(requestOptions)}/content/users/${owner}/items/${\n    requestOptions.itemId\n  }/move`;\n\n  let folderId = requestOptions.folderId;\n  if (!folderId) {\n    folderId = \"/\";\n  }\n  requestOptions.params = {\n    folder: folderId,\n    ...requestOptions.params\n  };\n\n  return request(url, requestOptions);\n}\n"],"names":["item","clone","JSON","parse","stringify","_a","typeKeywords","_b","tags","join","data","text","properties","requestOptions","owner","authentication","username","determineOwner","baseUrl","getPortalUrl","url","folder","params","serializeItem","request","id","file","resource","fileName","name","content","access","private","title","createItemInFolder","tslib_1.__assign","options","httpMethod","f","num","search","q","searchForm","itemId","folderId"],"mappings":"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"}